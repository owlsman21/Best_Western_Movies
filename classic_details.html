<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Loading Details...</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark GitHub-like background */
            color: #c9d1d9;
        }
        .text-classic-blue {
            color: #38bdf8; /* Sky Blue Accent */
        }
        .card-shadow {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .detail-poster {
            border: 4px solid #38bdf8;
            object-fit: cover;
            aspect-ratio: 2 / 3;
        }
        /* Style for the responsive video container */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio (9 / 16 * 100) */
            height: 0;
            overflow: hidden;
            background-color: #000;
            border-radius: 0.5rem; /* rounded-xl equivalent */
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header & Navigation -->
    <header class="bg-[#161b22] shadow-xl sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-3xl font-extrabold text-classic-blue">
                <a href="classic_list.html" class="hover:text-sky-400 transition">Classic Vault</a>
            </h1>
            <nav class="flex space-x-6">
                <a href="classic_list.html" class="text-gray-400 hover:text-classic-blue transition duration-200 p-2 rounded-lg">Catalog</a>
            </nav>
        </div>
    </header>

    <!-- Main Content Area -->
    <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <!-- Back Button -->
        <a href="classic_list.html" class="flex items-center text-classic-blue hover:text-sky-400 mb-8 transition">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Back to Catalog
        </a>

        <!-- Video Player Section (New) -->
        <section id="video-player-section" class="mb-8"></section>

        <!-- Detail Container (Content dynamically injected here) -->
        <section id="detail-container" class="bg-[#161b22] p-6 md:p-10 rounded-xl card-shadow flex flex-col md:flex-row gap-8">
            <div class="w-full text-center py-20">
                <h2 class="text-3xl font-bold">Loading Details...</h2>
                <p class="text-gray-400 mt-2">Connecting to data source...</p>
            </div>
        </section>

    </main>

    <!-- JavaScript for Dynamic Content Loading -->
    <script>
        // --- STEP 1: EMBEDDED DATA (SYNCHRONIZED) ---
        // NOTE: This data MUST match classic_list.html exactly, plus the videoEmbedHtml.
        const CLASSIC_CATALOG = {
            // --- Classic Films ---
            'royal_wedding': {
                title: "Royal Wedding",
                year: 1951,
                type: "Movie",
                posterUrl: "images/royal wedding.jpg",
                description: "A musical about a brother and sister dance team who travel to London during the 1947 Royal Wedding.",
                detailsLink: "classic_details.html?id=royal_wedding", // Updated ID in the link
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/2015728306909" title="Royal Wedding (1951) Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            'Calígula': {
                title: "Calígula",
                year: 1979,
                type: "Movie",
                posterUrl: "images/Calígula.jpg",
                description: "A dramatization of the ascent to Caesar and subsequent reign of Caligula, one of the most notorious leaders of ancient Rome.",
                detailsLink: "classic_details.html?id=Caligula",
                // Placeholder for video embed demonstrating the feature.
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/9412093348547" title="Placeholder Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            // --- Classic TV Series ---
            'twilight_zone': {
                title: "The Twilight Zone",
                year: 1959,
                type: "TV Series",
                posterUrl: 'https://placehold.co/300x450/333333/FFD700?text=Twilight+Zone',
                description: "A timeless anthology series of sci-fi, horror, and suspense.",
                detailsLink: "classic_details.html?id=twilight_zone"
            },
            'mash': {
                title: "M*A*S*H",
                year: 1972,
                type: "TV Series",
                posterUrl: 'https://placehold.co/300x450/546E7A/EAEAEA?text=MASH',
                description: "The staff of an Army hospital use humor to cope with the horrors of the Korean War.",
                detailsLink: "classic_details.html?id=mash"
            }
        };
        // -----------------------------

        function getMovieIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id'); 
        }

        async function renderDetails() {
            const contentId = getMovieIdFromUrl();
            const content = CLASSIC_CATALOG[contentId];
            
            const container = document.getElementById('detail-container');
            const pageTitleElement = document.getElementById('page-title');
            const videoPlayerSection = document.getElementById('video-player-section');

            if (!content) {
                // Not Found handler
                pageTitleElement.textContent = 'Content Not Found';
                container.innerHTML = `
                    <div class="w-full text-center py-20">
                        <h2 class="text-4xl font-bold text-red-500">404: Content Not Found</h2>
                        <p class="text-gray-400 mt-4">The ID "${contentId || 'None'}" was not found in the database.</p>
                        <a href="classic_list.html" class="mt-6 inline-block px-6 py-2 bg-classic-blue text-gray-900 font-semibold rounded-lg hover:bg-sky-400 transition">Browse Catalog</a>
                    </div>
                `;
                return;
            }

            // Update the browser tab title
            pageTitleElement.textContent = `${content.title} (${content.year}) | Classic Vault`;
            
            // --- Video Player Logic ---
            if (content.videoEmbedHtml) {
                // If video data exists, render the responsive player
                videoPlayerSection.innerHTML = `
                    <h3 class="text-2xl font-semibold text-white mb-3">Watch Now</h3>
                    <div class="video-container rounded-xl card-shadow">
                        ${content.videoEmbedHtml}
                    </div>
                `;
            } else {
                // If no video, clear the section
                videoPlayerSection.innerHTML = '';
            }
            // -------------------------------
            
            // Generate the HTML for the details (Poster and Description)
            container.innerHTML = `
                <!-- Poster Column -->
                <div class="md:w-1/3 flex-shrink-0">
                    <img src="${content.posterUrl}" 
                         alt="Poster for ${content.title}" 
                         class="detail-poster w-full h-auto rounded-lg shadow-xl"
                         onerror="this.onerror=null;this.src='https://placehold.co/300x450/4B0000/FFF?text=Poster+Failed+to+Load'">
                </div>

                <!-- Details Column -->
                <div class="md:w-2/3">
                    <h2 class="text-5xl font-extrabold text-white mb-2">${content.title}</h2>
                    <p class="text-2xl font-light text-classic-blue mb-4">${content.year} | ${content.type}</p>
                    
                    <div class="space-y-4 text-lg text-gray-300">
                        <!-- Description -->
                        <p class="border-l-4 border-classic-blue pl-4 italic bg-[#1f252c] p-3 rounded-md">${content.description}</p>
                        
                        <div class="pt-4 text-sm text-gray-400">
                            <!-- Placeholder for more detail (e.g., Cast, Director) -->
                            <p>More details like Director and Cast would go here in a larger database.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Run the rendering function when the page loads
        document.addEventListener('DOMContentLoaded', renderDetails);
    </script>

</body>
</html>