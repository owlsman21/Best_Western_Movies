<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Loading Details...</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Dark GitHub-like background */
            color: #c9d1d9;
        }
        .text-classic-blue {
            color: #38bdf8; /* Sky Blue Accent */
        }
        .card-shadow {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        .detail-poster {
            border: 4px solid #38bdf8;
            object-fit: cover;
            aspect-ratio: 2 / 3;
        }
        /* Style for the responsive video container */
        .video-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio (9 / 16 * 100) */
            height: 0;
            overflow: hidden;
            background-color: #000;
            border-radius: 0.5rem; /* rounded-xl equivalent */
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header & Navigation -->
   <header class="bg-[#161b22] shadow-xl sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-3xl font-extrabold text-classic-blue">
                <a href="index.html" class="hover:text-sky-400 transition">Classic Vault</a>
            </h1>
            <nav class="flex space-x-6">
                <a href="index.html" class="text-gray-400 hover:text-classic-blue transition duration-200 p-2 rounded-lg">Catalog</a>
            </nav>
        </div>
    </header>

        <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

                <a href="index.html" class="flex items-center text-classic-blue hover:text-sky-400 mb-8 transition">
            <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>
            Back to Catalog
        </a>

        <!-- Video Player Section (New) -->
        <section id="video-player-section" class="mb-8"></section>

        <!-- Detail Container (Content dynamically injected here) -->
        <section id="detail-container" class="bg-[#161b22] p-6 md:p-10 rounded-xl card-shadow flex flex-col md:flex-row gap-8">
            <div class="w-full text-center py-20">
                <h2 class="text-3xl font-bold">Loading Details...</h2>
                <p class="text-gray-400 mt-2">Connecting to data source...</p>
            </div>
        </section>

    </main>

    <!-- JavaScript for Dynamic Content Loading -->
    <script>
        // --- STEP 1: EMBEDDED DATA (SYNCHRONIZED) ---
        // NOTE: This data MUST match classic_list.html exactly, plus the videoEmbedHtml.
       // --- STEP 1: EMBEDDED DATA (SYNCHRONIZED) ---
        // NOTE: This data MUST match classic_list.html exactly, plus the videoEmbedHtml.
        const CLASSIC_CATALOG = {
            
            "Pat_Garrett_Billy_the_Kid": {
                title: "Pat Garrett And Billy the Kid",
                year: 1973,
                type: "Western",
                posterUrl: "./images/pat.jpg", 
                description: "Pat Garrett is hired as a lawman on behalf of a group of wealthy New Mexico cattle barons to bring down his old friend Billy the Kid.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9886669802142" title="Pat Garrett & Billy the Kid (1973) Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "Tombstone": {
                title: "Tombstone",
                year: 1993,
                type: "Western", 
                posterUrl:"./images/tombstone.jpg",
                description: "A successful lawman's plans to retire anonymously in Tombstone, Arizona, are disrupted by the kind of outlaws he was famous for eliminating.",
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/9474456226462" title="Placeholder Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "fort_apache_1": {
                title: "Fort Apache (1)",
                year: 1948,
                type: "Western", 
                posterUrl: "./images/apache.jpg",
                description: "Colonel Oswald Turner, who serves as the commanding officer at Fort Apache, clashes with Captain Kirby York, his deputy, as the former wants to become popular in the Arizona outpost.",
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/8921373280921" title="Placeholder Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "The_Frisco_Kid": {
                title: "The Frisco Kid",
                year: 1979,
                type: "Western Comedy",
                posterUrl: "./images/frisco.jpg",
                description: "A Polish rabbi wanders through the Old West on his way to lead a synagogue in San Francisco. On the way, he is nearly burned at the stake by Native Americans and almost killed by outlaws.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9347730246302" title="The Frisco" frameborder="0" allowfullscreen></iframe>'
            },
            
            "She_Wore_a_Yellow_Ribbon": {
                title: "She Wore a Yellow Ribbon",
                year: 1949,
                type: "Western",
                posterUrl: "./images/ribbon.jpg",
                description: "Captain Nathan Brittles heads his last assignment before retirement to stop a Native American attack. But the job gets challenging when his superior instructs him to escort two women to safety.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/8921446943385" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            
            "Support_Your_Local_Sheriff": {
                title: "Support Your Local Sheriff",
                year: 1969,
                type: "Western",
                posterUrl: "./images/support.jpg",
                description: "In the old west, a man becomes a Sheriff just for the pay, figuring he can decamp if things get tough. In the end, he uses ingenuity instead.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9347718843038" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            }
        };
        // -----------------------------
        

        function getMovieIdFromUrl() {
            const params = new URLSearchParams(window.location.search);
            return params.get('id'); 
        }

        async function renderDetails() {
            const contentId = getMovieIdFromUrl();
            const content = CLASSIC_CATALOG[contentId];
            
            const container = document.getElementById('detail-container');
            const pageTitleElement = document.getElementById('page-title');
            const videoPlayerSection = document.getElementById('video-player-section');

            if (!content) {
                // Not Found handler
                pageTitleElement.textContent = 'Content Not Found';
                container.innerHTML = `
                    <div class="w-full text-center py-20">
                        <h2 class="text-4xl font-bold text-red-500">404: Content Not Found</h2>
                        <p class="text-gray-400 mt-4">The ID "${contentId || 'None'}" was not found in the database.</p>
                        <a href="classic_list.html" class="mt-6 inline-block px-6 py-2 bg-classic-blue text-gray-900 font-semibold rounded-lg hover:bg-sky-400 transition">Browse Catalog</a>
                    </div>
                `;
                return;
            }

            // Update the browser tab title
            pageTitleElement.textContent = `${content.title} (${content.year}) | Classic Vault`;
            
            // --- Video Player Logic ---
            if (content.videoEmbedHtml) {
                // If video data exists, render the responsive player
                videoPlayerSection.innerHTML = `
                    <h3 class="text-2xl font-semibold text-white mb-3">Watch Now</h3>
                    <div class="video-container rounded-xl card-shadow">
                        ${content.videoEmbedHtml}
                    </div>
                `;
            } else {
                // If no video, clear the section
                videoPlayerSection.innerHTML = '';
            }
            // -------------------------------
            
            // Generate the HTML for the details (Poster and Description)
            container.innerHTML = `
                <!-- Poster Column -->
                <div class="md:w-1/3 flex-shrink-0">
                    <img src="${content.posterUrl}" 
                         alt="Poster for ${content.title}" 
                         class="detail-poster w-full h-auto rounded-lg shadow-xl"
                         onerror="this.onerror=null;this.src='https://placehold.co/300x450/4B0000/FFF?text=Poster+Failed+to+Load'">
                </div>

                <!-- Details Column -->
                <div class="md:w-2/3">
                    <h2 class="text-5xl font-extrabold text-white mb-2">${content.title}</h2>
                    <p class="text-2xl font-light text-classic-blue mb-4">${content.year} | ${content.type}</p>
                    
                    <div class="space-y-4 text-lg text-gray-300">
                        <!-- Description -->
                        <p class="border-l-4 border-classic-blue pl-4 italic bg-[#1f252c] p-3 rounded-md">${content.description}</p>
                        
                        <div class="pt-4 text-sm text-gray-400">
                            <!-- Placeholder for more detail (e.g., Cast, Director) -->
                            <p>More details like Director and Cast would go here in a larger database.</p>
                        </div>
                    </div>
                </div>
            `;
        }

        // Run the rendering function when the page loads
        document.addEventListener('DOMContentLoaded', renderDetails);
    </script>

</body>
</html>