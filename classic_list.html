<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Western Movie Vault - Catalog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for a classic cinematic feel */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Corrected to Dark GitHub-like background */
            color: #c9d1d9; /* Default text color */
        }
        .poster-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        .poster-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(255, 204, 0, 0.2);
        }
        .text-golden {
            color: #FFC300; /* Classic Gold accent */
        }
        .poster-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            aspect-ratio: 2 / 3; /* Standard movie poster ratio */
        }
        /* Style for disabled pagination button */
        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="min-h-screen text-gray-100">

    <header class="bg-black/90 shadow-lg sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-golden">
                <a href="index.html" class="hover:text-yellow-400 transition">WESTERN MOVIE VAULT</a>
            </h1>
            <nav class="flex space-x-6">
                <a href="classic_list.html" class="text-golden font-semibold bg-gray-800 px-3 py-2 rounded-lg shadow-inner">All Westerns</a>
            </nav>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">

        <section class="mb-12 p-8 md:p-12 rounded-xl bg-gray-800/70 border-b-4 border-golden shadow-2xl">
            <h2 class="text-5xl font-extrabold mb-3 text-white">Classic Westerns Collection</h2>
            <p class="text-lg text-gray-300 max-w-3xl">
                A definitive collection of iconic films from the Golden Age of Western Cinema.
            </p>
            <div class="mt-4 flex flex-wrap gap-3">
                <span class="text-sm font-medium bg-golden text-gray-900 px-3 py-1 rounded-full shadow-md">John Wayne</span>
                <span class="text-sm font-medium bg-gray-600 text-gray-100 px-3 py-1 rounded-full shadow-md">Spaghetti Westerns</span>
                <span class="text-sm font-medium bg-gray-600 text-gray-100 px-3 py-1 rounded-full shadow-md">Comedy Westerns</span>
            </div>
        </section>

        <div class="mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center p-4 bg-gray-800/50 rounded-lg">
            <h3 id="movie-count" class="text-2xl font-semibold text-white mb-4 sm:mb-0">Loading Classics...</h3>
            <div class="flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-4 w-full sm:w-auto">
                
                <select id="sort-selector" class="bg-gray-700 text-white p-2 rounded-lg border border-gray-600 focus:ring-golden focus:border-golden transition w-full md:w-40">
                    <option value="year-desc">Sort by Year (Newest)</option>
                    <option value="year-asc">Sort by Year (Oldest)</option>
                    <option value="title-asc">Sort by Title (A-Z)</option>
                </select>
                
                <select class="bg-gray-700 text-white p-2 rounded-lg border border-gray-600 focus:ring-golden focus:border-golden transition w-full md:w-40">
                    <option>Filter by Decade</option>
                    <option>1940s</option>
                    <option>1960s</option>
                    <option>1970s</option>
                </select>
            </div>
        </div>

        <section id="classic_movie_list" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
            </section>
        
        <div class="mt-12 flex justify-center">
            <nav id="pagination-container" class="flex space-x-2 p-3 bg-gray-800/50 rounded-lg shadow-inner">
                </nav>
        </div>

    </main>

    <footer class="mt-16 py-8 bg-black/90 border-t border-gray-700 text-center text-gray-500">
        <div class="max-w-7xl mx-auto px-4">
            <p>&copy; 2025 Western Movie Vault. All rights reserved.</p>
        </div>
    </footer>


    <script>
    (function() {
        
        // ===========================================
        // === MOVIE DATA CATALOG (13 Westerns) ===
        // ===========================================
        const CLASSIC_CATALOG = {
            "Pat_Garrett_Billy_the_Kid": {
                title: "Pat Garrett And Billy the Kid",
                year: 1973,
                type: "Western",
                posterUrl: "./images/pat.jpg", 
                description: "Pat Garrett is hired as a lawman on behalf of a group of wealthy New Mexico cattle barons to bring down his old friend Billy the Kid.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9886669802142" title="Pat Garrett & Billy the Kid (1973) Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "Tombstone": {
                title: "Tombstone",
                year: 1993,
                type: "Western", 
                posterUrl:"./images/tombstone.jpg",
                description: "A successful lawman's plans to retire anonymously in Tombstone, Arizona, are disrupted by the kind of outlaws he was famous for eliminating.",
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/9474456226462" title="Placeholder Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "fort_apache_1": {
                title: "Fort Apache (1)",
                year: 1948,
                type: "Western", 
                posterUrl: "./images/apache.jpg",
                description: "Colonel Oswald Turner, who serves as the commanding officer at Fort Apache, clashes with Captain Kirby York, his deputy, as the former wants to become popular in the Arizona outpost.",
                videoEmbedHtml: '<iframe src="https://ok.ru/videoembed/8921373280921" title="Placeholder Video Player" frameborder="0" allowfullscreen></iframe>'
            },
            
            "The_Frisco_Kid": {
                title: "The Frisco Kid",
                year: 1979,
                type: "Western Comedy",
                posterUrl: "./images/frisco.jpg",
                description: "A Polish rabbi wanders through the Old West on his way to lead a synagogue in San Francisco. On the way, he is nearly burned at the stake by Native Americans and almost killed by outlaws.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9347730246302" title="The Frisco" frameborder="0" allowfullscreen></iframe>'
            },
            
            "She_Wore_a_Yellow_Ribbon": {
                title: "She Wore a Yellow Ribbon",
                year: 1949,
                type: "Western",
                posterUrl: "./images/ribbon.jpg",
                description: "Captain Nathan Brittles heads his last assignment before retirement to stop a Native American attack. But the job gets challenging when his superior instructs him to escort two women to safety.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/8921446943385" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            
            "Support_Your_Local_Sheriff": {
                title: "Support Your Local Sheriff",
                year: 1969,
                type: "Western",
                posterUrl: "./images/support.jpg",
                description: "In the old west, a man becomes a Sheriff just for the pay, figuring he can decamp if things get tough. In the end, he uses ingenuity instead.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9347718843038" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "The_Spikes_Gang": {
                title: "The Spikes Gang",
                year: 1974,
                type: "Western",
                posterUrl: "./images/spikes.jpg",
                description: "Three farm boys in the Old West help a wounded bank robber who teaches them the trade.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9104458058398" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Chisum": {
                title: "Chisum",
                year: 1970,
                type: "Western",
                posterUrl: "./images/Chisum.jpg",
                description: "Cattle baron John Chisum joins forces with Billy the Kid and Pat Garrett to fight the Lincoln County land war.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9099003759262" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "One_Little_Indian": {
                title: "One Little Indian",
                year: 1973,
                type: "Western",
                posterUrl: "./images/one.jpg",
                description: "On the run from the Cavalry, a man tries to disappear while accompanied by two camels and a runaway boy. ",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/10160284699174" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Cottonmouth": {
                title: "Cottonmouth",
                year: 2025,
                type: "Western",
                posterUrl: "./images/cotton.jpg",
                description: "When Ed Dantes is framed and condemned to the tortures of a territorial prison in 1895, he must learn the ways of the outlaw to escape and exact his revenge.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9878848735782" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Rust": {
                title: "Rust",
                year: 2024,
                type: "Western",
                posterUrl: "./images/Rust.jpg",
                description: "An orphaned boy of 13 left to fend for himself and his younger brother in 1880s Wyoming is sentenced to hang for the accidental killing of a local rancher. His estranged grandfather breaks him out of jail and they go on the run to Mexico.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9453161351718" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Night_of_the_Tommyknockers": {
                title: "Night of the Tommyknockers",
                year: 2022,
                type: "Western",
                posterUrl: "./images/tommy.jpg",
                description: "When miners blast for gold in the 1870's, they accidentally release ancient creatures known as Tommyknockers. The town of Deer Creek, Nevada is soon under siege with only a handful of survivors held up in the local saloon.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9273472846374" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            
            "Hard_Bounty": {
                title: "Hard Bounty",
                year:1995,
                type: "Western",
                posterUrl: "./images/hard.jpg",
                description: "Kanning is an ex-bounty hunter who decides to buy the town saloon where Donnie works as a whore. Carver, who has a bad history with Kanning from his bounty hunting days, rides into town to register some land deeds.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/8974781123110" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            
            // Corrected key to remove the space, which is required for a valid JS object key and URL parameter
            "Stagecoach_COLORIZED": { 
                title: "Stagecoach (COLORIZED)",
                year:1939,
                type: "Western",
                posterUrl: "./images/stage.jpg",
                description: "A group of people traveling on a stagecoach find their journey complicated by the threat of Geronimo and learn something about each other in the process.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7794790500902" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "From_Noon_Till_Three": {
                title: "From Noon Till Three",
                year:1976,
                type: "Western",
                posterUrl: "./images/noon.jpg",
                description: "A beautiful widow profits from a fling with an outlaw.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7618577041958" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Coyote_Woman": {
                title: "Coyote Woman (2024)",
                year:2024,
                type: "Western",
                posterUrl: "./images/coy.jpg",
                description: "For the first time on screen: Real-life scalp hunters JJ Glanton and Judge Holden from the novel Blood Meridian. Cynthia is a captive turned Comanche Woman. She lives with the last free band until they cross ways with savage scalp hunters.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7540624001574" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Blazing_Saddles": {
                title: "Blazing Saddles",
                year:1974,
                type: "Western Comedy",
                posterUrl: "./images/blaz.jpg",
                description: "In order to ruin a western town and steal their land, a corrupt politician appoints a black sheriff, who promptly becomes his most formidable adversary.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7502168066598" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "They_Died_with_Their_Boots_On": {
                title: "They Died with Their Boots On (1941)",
                year:1941,
                type: "Western",
                posterUrl: "./images/custer.jpg",
                description: "A highly fictionalized account of the life of George Armstrong Custer from his arrival at West Point in 1857 to his death at the battle of the Little Big Horn in 1876.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/9605806623481" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Young_Guns_II": {
                title: "Young Guns II",
                year:1990,
                type: "Western",
                posterUrl: "./images/young guns 2.jpg",
                description: "Billy the Kid and his band of outlaws are pursued across New Mexico territory by Sheriff Pat Garrett, who the young gunslingers must face-off with if they are to reach the safety of the border.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7463099828774" title="Young Guns 2" frameborder="0" allowfullscreen></iframe>'
            },
            "Shane": {
                title: "Shane (1953) ",
                year:1953,
                type: "Western",
                posterUrl: "./images/shane.jpg",
                description: "An ex-gunfighter defends homesteaders in 1889 Wyoming.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7463093340710" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Geronimo:_An_American_Legend": {
                title: "Geronimo:An American Legend",
                year:1993,
                type: "Western",
                posterUrl: "./images/gero.jpg",
                description: "The story of the Apache chief and his armed resistance to the U.S. Government's subjugation of his people.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7286425389606" title="Geronimo:_An_American_Legend" frameborder="0" allowfullscreen></iframe>'
            },
            "Ride_with_the_Devil": {
                title: "Ride with the Devil",
                year:1999,
                type: "Western",
                posterUrl: "./images/ride.jpg",
                description: "During the American Civil War, two friends join the Bushwhackers, a militant group loyal to the Confederacy.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7210048883238" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Hostiles": {
                title: "Hostiles",
                year:2017,
                type: "Western",
                posterUrl: "./images/hostiles.jpg",
                description: "The story of the Apache chief and his armed resistance to the U.S. Government's subjugation of his people.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/7028540508710" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Calamity_Jane": {
                title: "Calamity_Jane",
                year:2024,
                type: "Western",
                posterUrl: "./images/Calamity.jpg",
                description: "After her husband-to-be Wild Bill Hickok is killed in an infamous poker game, Calamity Jane must break out of prison and find his murderers before Deadwood's Sheriff can arrest her.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/6995830245926" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Butch_vs_Sundance": {
                title: "Butch vs. Sundance (2023)",
                year:2023,
                type: "Western",
                posterUrl: "./images/butch1.jpg",
                description: "After years of robbing and scheming, a feud between Butch and Sundance leads to mistrust and betrayal, jeopardizing the largest heist of the century.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/6895561476646" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            "Birthright_Outlaw": {
                title: "Birthright Outlaw 2023",
                year:2023,
                type: "Western",
                posterUrl: "./images/birth.jpg",
                description: "A daughter kidnapped. A hidden past revealed. A seemingly futile chance at rescue. Now, Rev. Jeremiah Jacobs and his wife Martha must overcome the lies of the past to find their Hope for the future.",
                videoEmbedHtml: '<iframe class="w-full h-full" src="https://ok.ru/videoembed/6877303015974" title="Caligula Trailer" frameborder="0" allowfullscreen></iframe>'
            },
            }; // End of CLASSIC_CATALOG
        // ===========================================
        
        // === PAGINATION & SORTING VARIABLES ===
        const MOVIES_PER_PAGE = 12;
        let currentPage = 1;
        let currentSort = 'year-desc'; // Default: Newest first

        const movieGrid = document.getElementById('classic_movie_list');
        const movieCountElement = document.getElementById('movie-count');
        const paginationContainer = document.getElementById('pagination-container');
        const sortSelector = document.getElementById('sort-selector'); // Get the new sort element

        // Function to get movie keys and sort them based on the current criteria
        function getSortedMovieKeys(catalog, sortType) {
            let keys = Object.keys(catalog);
            
            keys.sort((a, b) => {
                const movieA = catalog[a];
                const movieB = catalog[b];

                if (sortType === 'year-asc') {
                    // Sort by year: Oldest first (ascending)
                    return movieA.year - movieB.year;
                } else if (sortType === 'year-desc') {
                    // Sort by year: Newest first (descending)
                    return movieB.year - movieA.year;
                } else if (sortType === 'title-asc') {
                    // Sort by title: A-Z (ascending)
                    const titleA = movieA.title.toUpperCase();
                    const titleB = movieB.title.toUpperCase();
                    if (titleA < titleB) return -1;
                    if (titleA > titleB) return 1;
                    return 0;
                }
                return 0; // Default: no change
            });
            
            return keys;
        }

        // Initialize sorted keys and calculate total pages
        let sortedMovieKeys = getSortedMovieKeys(CLASSIC_CATALOG, currentSort);
        const totalMovies = sortedMovieKeys.length;
        const totalPages = Math.ceil(totalMovies / MOVIES_PER_PAGE);

        // --- Core Rendering Function (Handles Pagination) ---
        function renderMovies() {
            // 1. Calculate the start and end indices for the current page
            const startIndex = (currentPage - 1) * MOVIES_PER_PAGE;
            const endIndex = startIndex + MOVIES_PER_PAGE;
            
            // Get the keys for the 12 movies we want to display
            const moviesToShowKeys = sortedMovieKeys.slice(startIndex, endIndex);

            movieGrid.innerHTML = ''; // Clear the grid before rendering new content

            // 2. Loop only through the selected 12 movies
            moviesToShowKeys.forEach(id => {
                const movie = CLASSIC_CATALOG[id];
                
                // IMPORTANT: Ensure ${id} is used here to pass the correct key (e.g., Blazing_Saddles)
                const movieCardHtml = `
                    <a href="classic_details.html?id=${id}" class="poster-card block bg-gray-900 rounded-lg overflow-hidden border border-gray-700 hover:border-golden">
                        <div class="poster-container">
                            <img class="poster-image" src="${movie.posterUrl}" alt="Poster for ${movie.title}" onerror="this.onerror=null;this.src='./images/poster-unavailable.jpg'">
                        </div>
                        <div class="p-3 text-center">
                            <p class="text-sm font-semibold truncate text-white">${movie.title}</p>
                            <p class="text-xs text-gray-400">${movie.year}</p>
                        </div>
                    </a>
                `;
                movieGrid.insertAdjacentHTML('beforeend', movieCardHtml);
            });

            // 3. Update the Count and Pagination
            if (movieCountElement) {
                const displayedCount = moviesToShowKeys.length;
                const startDisplay = startIndex + 1;
                const endDisplay = startIndex + displayedCount;
                
                if (totalMovies === 0) {
                    movieCountElement.textContent = "No Classics Found";
                } else if (totalPages === 1) {
                    movieCountElement.textContent = `Found ${totalMovies} Classics`;
                } else {
                    movieCountElement.textContent = `Showing ${startDisplay}-${endDisplay} of ${totalMovies} Classics`;
                }
            }
            renderPagination();
        }

        // --- Pagination Button Drawing Function ---
        function renderPagination() {
            if (!paginationContainer || totalPages <= 1) {
                // Clear container if no pagination is needed
                paginationContainer.innerHTML = '';
                return;
            }

            let paginationHtml = '';

            // Previous Button
            paginationHtml += `
                <button data-page="${currentPage - 1}" ${currentPage === 1 ? 'disabled' : ''} 
                    class="pagination-btn px-4 py-2 text-gray-400 bg-gray-700/50 rounded-lg ${currentPage === 1 ? 'cursor-not-allowed' : 'hover:bg-gray-600 transition'}">&larr; Previous</button>
            `;

            // Page Number Buttons
            for (let i = 1; i <= totalPages; i++) {
                paginationHtml += `
                    <button data-page="${i}" 
                        class="pagination-btn px-4 py-2 ${i === currentPage ? 'text-gray-900 bg-golden font-bold shadow-md' : 'text-gray-300 bg-gray-700 hover:bg-gray-600'} rounded-lg transition">${i}</button>
                `;
            }

            // Next Button
            paginationHtml += `
                <button data-page="${currentPage + 1}" ${currentPage === totalPages ? 'disabled' : ''} 
                    class="pagination-btn px-4 py-2 text-gray-400 bg-gray-700/50 rounded-lg ${currentPage === totalPages ? 'cursor-not-allowed' : 'hover:bg-gray-600 transition'}">Next &rarr;</button>
            `;

            paginationContainer.innerHTML = paginationHtml;
            
            // Add click listeners to all new buttons
            paginationContainer.querySelectorAll('.pagination-btn').forEach(button => {
                button.addEventListener('click', (event) => {
                    if (!event.target.disabled) {
                        const newPage = parseInt(event.target.dataset.page);
                        currentPage = newPage;
                        renderMovies();
                        window.scrollTo(0, 0); // Scroll to top on page change
                    }
                });
            });
        }

        // --- Event Listener for Sorting ---
        if (sortSelector) {
            sortSelector.addEventListener('change', (event) => {
                currentSort = event.target.value; // Update the sort criteria
                // Recalculate and re-sort the master list of keys
                sortedMovieKeys = getSortedMovieKeys(CLASSIC_CATALOG, currentSort); 
                currentPage = 1; // Always reset to the first page when sorting
                renderMovies(); // Re-render the movies and pagination
            });
        }


        // Run the rendering function when the page loads
        document.addEventListener('DOMContentLoaded', renderMovies);

    })();
    </script>
    </body>
</html>